import"./chunk-GOO4OS4L.js";import{a as k}from"./chunk-RRI6QNJ6.js";import{c as P}from"./chunk-3HISWDSG.js";import{a as j}from"./chunk-KINJF56O.js";import{$ as _,Ca as u,Ea as m,Ga as l,Ha as f,Ia as s,Ja as a,K as h,La as x,Ma as S,Na as I,P as n,Ra as g,S as C,Sa as T,Ua as F,Wa as w,Z as v,_ as y,qa as c,ub as L,wa as d,wb as b}from"./chunk-FCINEQUJ.js";var E=(()=>{let t=class t{constructor(){this.http=n(L)}getAll(){return this.http.get("https://api.escuelajs.co/api/v1/categories")}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=h({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var O=e=>({categoryId:e});function V(e,t){if(e&1&&(s(0,"li")(1,"a",5),g(2),a()()),e&2){let o=t.$implicit;c(),u("queryParams",w(2,O,o.id)),c(),T(o.name)}}function $(e,t){if(e&1){let o=x();s(0,"app-product",6),S("addToCart",function(){let i=y(o).$implicit,p=I();return _(p.addToCart(i))}),a()}if(e&2){let o=t.$implicit;u("product",o)}}var Z=(()=>{let t=class t{constructor(){this.products=d([]),this.categories=d([]),this.cartService=n(b),this.productService=n(j),this.categoryService=n(E)}ngOnInit(){this.getCategories()}ngOnChanges(){this.getProducts()}addToCart(r){this.cartService.addToCart(r)}getProducts(){this.productService.getProducts(this.categoryId).subscribe({next:r=>{this.products.set(r)}})}getCategories(){this.categoryService.getAll().subscribe({next:r=>{this.categories.set(r)}})}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=C({type:t,selectors:[["app-list"]],inputs:{categoryId:"categoryId"},standalone:!0,features:[v,F],decls:11,vars:0,consts:[[1,"flex","space-x-4","mt-5"],[1,"w-80"],["routerLink","/"],[1,"grid","grid-cols-4","gap-8","w-full"],[3,"product"],["routerLink","/",3,"queryParams"],[3,"addToCart","product"]],template:function(i,p){i&1&&(s(0,"div",0)(1,"div",1)(2,"ul")(3,"li")(4,"a",2),g(5,"All"),a()(),l(6,V,3,4,"li",null,m),a()(),s(8,"div",3),l(9,$,1,1,"app-product",4,m),a()()),i&2&&(c(6),f(p.categories()),c(3),f(p.products()))},dependencies:[k,P]});let e=t;return e})();export{Z as default};
